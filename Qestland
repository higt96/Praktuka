// Praktuka.cpp: определяет точку входа для консольного приложения.
//

#include "stdafx.h"
#include <iostream>
#include <conio.h>
#include <string.h>
#include <fstream>
#include <string>

#include <vector>
#include <sstream>
#include <algorithm>
#include <iterator>
#include <regex>

using namespace std;
string str;

void tex(int n){//Считує рядок N
	
		/*/ setlocale(0, "");

		 ifstream in("input.txt"); // открыли файл для чтения

		 

		 //string str;
		 for (int i = 1; i < n; i++) // пропускаем n - 1 строки
			 in.ignore(255, '\n');

		 if (!in.eof()) // если не конец файла
		 {
			 getline(in, ::str); // считали нужную строку
		 }

		 in.close(); //закрыли  файл

		 cin.get();
	std::ifstream input("input.txt");
	std::vector<std::string> words{ std::istream_iterator<std::string>{input}, std::istream_iterator<std::string>{} };
	input.close();


	for (const auto &i : words)
	if (std::regex_match(i, std::regex("(1)(.*)(01)")))
		str = i;/*/
	
	 }

int main()
{
	
	setlocale(LC_ALL, "Russian");
	int V;
	
	
	

	cout << "Ви в печерi бачите дверi." << endl;
	cout << "Щоб вiдкрити введiть 1"<< endl;
	cout << "Оглянутись  2"<<endl;
	cout << "Назад 3"<<endl; 
	cout << "Взяти 4" << endl;
Proval: ;
	
	/*/
	std::ifstream input("input.txt"); //має считувати дані між двома мітками, не робить, зупиняється на пробілі
	std::vector<std::string> words{ std::istream_iterator<std::string>{input}, std::istream_iterator<std::string>{} };
	input.close();


	for (const auto &i : words)

	
	if (std::regex_match(i, std::regex("(1)(.*)")))
	
		str = i;/*/
	V = _getch(); //нажаття клавіші
	switch (V)
	{
	case '1':	
		tex(1);
		cout << ::str << endl;
		goto Proval;
	case '2':
		cout << "Бачу вузький прохiд" << endl;
		goto Proval;
	case '3':	
		cout << "Я немало пролетiв назад не доскочу" << endl;
			goto Proval;
	case '4':	
		cout << "Добре, я взяв себе в руки" << endl;
			goto Proval;
	default:
		cout << "Невiрна команда" << endl;
		goto Proval;
	}


	

	system("pause");
	
	return 0;
}

